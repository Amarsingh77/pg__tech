import{r as m,j as e,m as s,X as h,A as b,a as p}from"./index-xNr4N6Oe.js";const g=t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"M20 6 9 17l-5-5"})}),f=({course:t,onClose:i})=>{const[r,n]=m.useState(!1),[u,o]=m.useState(!1);if(!t)return null;const x=async l=>{l.preventDefault(),n(!0);try{const a={name:l.target.name.value,email:l.target.email.value,phone:l.target.phone.value,courseName:t.title||t.course,status:"New",enrollmentDate:new Date().toISOString()},c=await fetch(p.enrollments,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),d=await c.json();c.ok?(o(!0),setTimeout(()=>{i(),o(!1)},3e3)):(console.error("Enrollment failed:",d.message),alert(d.message||"Failed to submit enrollment"))}catch(a){console.error("Error submitting enrollment:",a),alert("An error occurred. Please try again.")}finally{n(!1)}};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm overflow-y-auto",children:e.jsxs(s.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:20},className:"relative w-full max-w-lg bg-gray-800 rounded-2xl shadow-2xl border border-white/10 text-white",children:[e.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:e.jsx(h,{size:24})}),e.jsx("div",{className:"p-8",children:e.jsx(b,{mode:"wait",children:u?e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[e.jsx(s.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200,damping:10},className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(g,{size:40,className:"text-white"})}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Enrollment Submitted!"}),e.jsx("p",{className:"text-gray-300",children:"Our team will contact you shortly. This window will close automatically."})]},"success"):e.jsxs(s.div,{exit:{opacity:0,y:-20},children:[e.jsx("h3",{className:"text-3xl font-bold mb-2",children:"Enroll Now"}),e.jsx("p",{className:"text-lg text-blue-300 mb-6",children:t.title||t.course}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",required:!0,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",id:"email",required:!0,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"john.doe@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",required:!0,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1 (234) 567-890"})]}),e.jsx(s.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},disabled:r,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold rounded-lg shadow-lg transition-opacity duration-300 disabled:opacity-50",children:r?"Submitting...":"Submit Enquiry"})]})]},"form")})})]})})};export{f as default};
